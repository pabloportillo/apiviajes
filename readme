# Proyecto apiviajes

Este es un proyecto con Symfony que implementa una pequeña API y un comando para consultar disponibilidad de vuelos desde un proveedor.

## Tecnologías
- PHP 8.3
- Symfony 7
- PHPUnit (para los tests automatizados)

## Estructura básica
- `src/Entity/FlightSegment.php` → Entidad con los campos del modelo Segment.
- `src/Proveedor/ProveedorDisponibilidad.php` → Clase que consulta al proveedor (GET al endpoint), parsea el XML y devuelve objetos FlightSegment.
- `src/Controller/DisponibilidadController.php` → Controlador con el endpoint `/api/avail`.
- `src/Comando/DisponibilidadComando.php` → Comando que devuelve los vuelos `lleego:avail`.
- `tests/DisponibilidadControllerTest.php` → Tests del controlador.

## Endpoint API

**Arrancar el servidor:**
```bash
symfony server:start -d
Realizar la petición:

bash
Copiar código
curl "http://127.0.0.1:8000/api/avail?origin=MAD&destination=BIO&date=2022-06-01"
Tipo de respuesta JSON:

json
Copiar código
[
  {
    "originCode": "MAD",
    "originName": "MAD",
    "destinationCode": "BIO",
    "destinationName": "BIO",
    "start": "2022-06-01 11:50",
    "end": "2022-06-01 12:55",
    "transportNumber": "0426",
    "companyCode": "IB",
    "companyName": "IB"
  }
]
Comando
Ejecutar desde consola:

bash
Copiar código
php bin/console lleego:avail MAD BIO 2022-06-01
Tests
Ejecutar los tests:

bash
Copiar código
php bin/phpunit
